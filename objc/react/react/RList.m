//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: react/RList.java
//
//  Created by Thomas on 7/1/13.
//

#import "IOSObjectArray.h"
#import "java/lang/Integer.h"
#import "java/lang/Throwable.h"
#import "java/util/ArrayList.h"
#import "java/util/Collection.h"
#import "java/util/Iterator.h"
#import "java/util/List.h"
#import "java/util/ListIterator.h"
#import "react/Connection.h"
#import "react/Cons.h"
#import "react/MultiFailureException.h"
#import "react/Reactor.h"
#import "react/Value.h"
#import "react/ValueView.h"

@implementation ReactRList

- (id<JavaUtilList>)_impl {
  return _impl_;
}
- (void)set_impl:(id<JavaUtilList>)_impl {
  JreOperatorRetainedAssign(&_impl_, self, _impl);
}
@synthesize _impl = _impl_;
- (ReactValue *)_sizeView {
  return _sizeView_;
}
- (void)set_sizeView:(ReactValue *)_sizeView {
  JreOperatorRetainedAssign(&_sizeView_, self, _sizeView);
}
@synthesize _sizeView = _sizeView_;

+ (ReactRList *)create {
  return ((ReactRList *) [ReactRList createWithJavaUtilList:[[[JavaUtilArrayList alloc] init] autorelease]]);
}

+ (ReactRList *)createWithJavaUtilList:(id<JavaUtilList>)impl {
  return [[[ReactRList alloc] initWithJavaUtilList:impl] autorelease];
}

- (id)initWithJavaUtilList:(id<JavaUtilList>)impl {
  if ((self = [super init])) {
    JreOperatorRetainedAssign(&_impl_, self, impl);
  }
  return self;
}

- (id<ReactConnection>)connectWithReactRList_Listener:(ReactRList_Listener *)listener {
  ReactRList_Listener *casted = (ReactRList_Listener *) listener;
  return ((ReactCons *) [self addConnectionWithId:casted]);
}

- (void)disconnectWithReactRList_Listener:(ReactRList_Listener *)listener {
  ReactRList_Listener *casted = (ReactRList_Listener *) listener;
  [self removeConnectionWithId:casted];
}

- (BOOL)removeForceWithId:(id)elem {
  [self checkMutate];
  int index = [((id<JavaUtilList>) NIL_CHK(_impl_)) indexOfWithId:elem];
  if (index >= 0) (void) [((id<JavaUtilList>) NIL_CHK(_impl_)) removeWithInt:index];
  [self emitRemoveWithInt:index withId:elem];
  return (index >= 0);
}

- (id<ReactValueView>)sizeView {
  @synchronized(self) {
    {
      if (_sizeView_ == nil) {
        JreOperatorRetainedAssign(&_sizeView_, self, ((ReactValue *) [ReactValue createWithId:[JavaLangInteger valueOfWithInt:[self size]]]));
        (void) [self connectWithReactRList_Listener:[[[ReactRList_$1 alloc] initWithReactRList:self] autorelease]];
      }
      return _sizeView_;
    }
  }
}

- (BOOL)addWithId:(id)element {
  [self addWithInt:[self size] withId:element];
  return YES;
}

- (void)addWithInt:(int)index
            withId:(id)element {
  [self checkMutate];
  [((id<JavaUtilList>) NIL_CHK(_impl_)) addWithInt:index withId:element];
  [self emitAddWithInt:index withId:element];
}

- (BOOL)addAllWithJavaUtilCollection:(id<JavaUtilCollection>)collection {
  return [self addAllWithInt:[self size] withJavaUtilCollection:collection];
}

- (BOOL)addAllWithInt:(int)index
withJavaUtilCollection:(id<JavaUtilCollection>)elements {
  [self checkMutate];
  {
    id<JavaUtilIterator> iter__ = ((id<JavaUtilIterator>) [((id<JavaUtilCollection>) NIL_CHK(elements)) iterator]);
    while ([((id<JavaUtilIterator>) NIL_CHK(iter__)) hasNext]) {
      id elem = [((id<JavaUtilIterator>) NIL_CHK(iter__)) next];
      [self addWithInt:index++ withId:elem];
    }
  }
  return YES;
}

- (id<JavaUtilIterator>)iterator {
  return [self listIterator];
}

- (id<JavaUtilListIterator>)listIterator {
  return [self listIteratorWithInt:0];
}

- (id<JavaUtilListIterator>)listIteratorWithInt:(int)index {
  id<JavaUtilListIterator> iiter = ((id<JavaUtilListIterator>) [((id<JavaUtilList>) NIL_CHK(_impl_)) listIterator]);
  return [[[ReactRList_$2 alloc] initWithReactRList:self withJavaUtilListIterator:iiter] autorelease];
}

- (BOOL)retainAllWithJavaUtilCollection:(id<JavaUtilCollection>)collection {
  BOOL modified = NO;
  for (id<JavaUtilIterator> iter = [self iterator]; [((id<JavaUtilIterator>) NIL_CHK(iter)) hasNext]; ) {
    if (![((id<JavaUtilCollection>) NIL_CHK(collection)) containsWithId:[((id<JavaUtilIterator>) NIL_CHK(iter)) next]]) {
      [((id<JavaUtilIterator>) NIL_CHK(iter)) remove];
      modified = YES;
    }
  }
  return modified;
}

- (BOOL)removeAllWithJavaUtilCollection:(id<JavaUtilCollection>)collection {
  BOOL modified = NO;
  {
    id<JavaUtilIterator> iter__ = [((id<JavaUtilCollection>) NIL_CHK(collection)) iterator];
    while ([((id<JavaUtilIterator>) NIL_CHK(iter__)) hasNext]) {
      id o = [((id<JavaUtilIterator>) NIL_CHK(iter__)) next];
      modified |= [self removeWithId:o];
    }
  }
  return modified;
}

- (BOOL)removeWithId:(id)object {
  [self checkMutate];
  int index = [((id<JavaUtilList>) NIL_CHK(_impl_)) indexOfWithId:object];
  if (index < 0) return NO;
  (void) [((id<JavaUtilList>) NIL_CHK(_impl_)) removeWithInt:index];
  id elem = (id) object;
  [self emitRemoveWithInt:index withId:elem];
  return YES;
}

- (id)removeWithInt:(int)index {
  [self checkMutate];
  id removed = [((id<JavaUtilList>) NIL_CHK(_impl_)) removeWithInt:index];
  [self emitRemoveWithInt:index withId:removed];
  return removed;
}

- (id)setWithInt:(int)index
          withId:(id)element {
  [self checkMutate];
  id removed = [((id<JavaUtilList>) NIL_CHK(_impl_)) setWithInt:index withId:element];
  [self emitSetWithInt:index withId:element withId:removed];
  return removed;
}

- (id<JavaUtilList>)subListWithInt:(int)fromIndex
                           withInt:(int)toIndex {
  return [[[ReactRList alloc] initWithJavaUtilList:((id<JavaUtilList>) [((id<JavaUtilList>) NIL_CHK(_impl_)) subListWithInt:fromIndex withInt:toIndex])] autorelease];
}

- (BOOL)isEqual:(id)object {
  return object == self || [((id<JavaUtilList>) NIL_CHK(_impl_)) isEqual:object];
}

- (NSString *)description {
  return [NSString stringWithFormat:@"RList(%@)", _impl_];
}

- (NSUInteger)hash {
  return [((id<JavaUtilList>) NIL_CHK(_impl_)) hash];
}

- (int)size {
  return [((id<JavaUtilList>) NIL_CHK(_impl_)) size];
}

- (BOOL)isEmpty {
  return [((id<JavaUtilList>) NIL_CHK(_impl_)) isEmpty];
}

- (id)getWithInt:(int)index {
  return [((id<JavaUtilList>) NIL_CHK(_impl_)) getWithInt:index];
}

- (int)indexOfWithId:(id)element {
  return [((id<JavaUtilList>) NIL_CHK(_impl_)) indexOfWithId:element];
}

- (int)lastIndexOfWithId:(id)element {
  return [((id<JavaUtilList>) NIL_CHK(_impl_)) lastIndexOfWithId:element];
}

- (BOOL)containsWithId:(id)object {
  return [((id<JavaUtilList>) NIL_CHK(_impl_)) containsWithId:object];
}

- (BOOL)containsAllWithJavaUtilCollection:(id<JavaUtilCollection>)collection {
  return [((id<JavaUtilList>) NIL_CHK(_impl_)) containsAllWithJavaUtilCollection:collection];
}

- (void)clear {
  while (![self isEmpty]) (void) [self removeWithInt:0];
}

- (IOSObjectArray *)toArray {
  return [((id<JavaUtilList>) NIL_CHK(_impl_)) toArray];
}

- (IOSObjectArray *)toArrayWithNSObjectArray:(IOSObjectArray *)array {
  return [((id<JavaUtilList>) NIL_CHK(_impl_)) toArrayWithNSObjectArray:array];
}

- (void)emitAddWithInt:(int)index
                withId:(id)elem {
  ReactCons *lners = ((ReactCons *) [self prepareNotify]);
  ReactMultiFailureException *error = nil;
  @try {
    for (ReactCons * cons = lners; cons != nil; cons = ((ReactCons *) NIL_CHK(cons)).next) {
      @try {
        [((ReactRList_Listener *) NIL_CHK(cons.listener)) onAddWithInt:index withId:elem];
      }
      @catch (JavaLangThrowable *t) {
        if (error == nil) error = [[[ReactMultiFailureException alloc] init] autorelease];
        [((ReactMultiFailureException *) NIL_CHK(error)) addFailureWithJavaLangThrowable:t];
      }
      if (((ReactCons *) NIL_CHK(cons)).oneShot) [((ReactCons *) NIL_CHK(cons)) disconnect];
    }
  }
  @finally {
    [self finishNotifyWithReactCons:lners];
  }
  if (error != nil) [error trigger];
}

- (void)emitSetWithInt:(int)index
                withId:(id)newElem
                withId:(id)oldElem {
  ReactCons *lners = ((ReactCons *) [self prepareNotify]);
  ReactMultiFailureException *error = nil;
  @try {
    for (ReactCons * cons = lners; cons != nil; cons = ((ReactCons *) NIL_CHK(cons)).next) {
      @try {
        [((ReactRList_Listener *) NIL_CHK(cons.listener)) onSetWithInt:index withId:newElem withId:oldElem];
      }
      @catch (JavaLangThrowable *t) {
        if (error == nil) error = [[[ReactMultiFailureException alloc] init] autorelease];
        [((ReactMultiFailureException *) NIL_CHK(error)) addFailureWithJavaLangThrowable:t];
      }
      if (((ReactCons *) NIL_CHK(cons)).oneShot) [((ReactCons *) NIL_CHK(cons)) disconnect];
    }
  }
  @finally {
    [self finishNotifyWithReactCons:lners];
  }
  if (error != nil) [error trigger];
}

- (void)emitRemoveWithInt:(int)index
                   withId:(id)elem {
  ReactCons *lners = ((ReactCons *) [self prepareNotify]);
  ReactMultiFailureException *error = nil;
  @try {
    for (ReactCons * cons = lners; cons != nil; cons = ((ReactCons *) NIL_CHK(cons)).next) {
      @try {
        [((ReactRList_Listener *) NIL_CHK(cons.listener)) onRemoveWithInt:index withId:elem];
      }
      @catch (JavaLangThrowable *t) {
        if (error == nil) error = [[[ReactMultiFailureException alloc] init] autorelease];
        [((ReactMultiFailureException *) NIL_CHK(error)) addFailureWithJavaLangThrowable:t];
      }
      if (((ReactCons *) NIL_CHK(cons)).oneShot) [((ReactCons *) NIL_CHK(cons)) disconnect];
    }
  }
  @finally {
    [self finishNotifyWithReactCons:lners];
  }
  if (error != nil) [error trigger];
}

- (void)dealloc {
  JreOperatorRetainedAssign(&_sizeView_, self, nil);
  JreOperatorRetainedAssign(&_impl_, self, nil);
  [super dealloc];
}

- (void)copyAllPropertiesTo:(id)copy {
  [super copyAllPropertiesTo:copy];
  ReactRList *typedCopy = (ReactRList *) copy;
  typedCopy._impl = _impl_;
  typedCopy._sizeView = _sizeView_;
}

@end
@implementation ReactRList_Listener

- (void)onAddWithInt:(int)index
              withId:(id)elem {
  [self onAddWithId:elem];
}

- (void)onAddWithId:(id)elem {
}

- (void)onSetWithInt:(int)index
              withId:(id)newElem
              withId:(id)oldElem {
  [self onSetWithInt:index withId:newElem];
}

- (void)onSetWithInt:(int)index
              withId:(id)newElem {
}

- (void)onRemoveWithInt:(int)index
                 withId:(id)elem {
  [self onRemoveWithId:elem];
}

- (void)onRemoveWithId:(id)elem {
}

- (id)init {
  return [super init];
}

- (void)dealloc {
  [super dealloc];
}

@end
@implementation ReactRList_$1

- (ReactRList *)this$0 {
  return this$0_;
}
- (void)setThis$0:(ReactRList *)this$0 {
  JreOperatorRetainedAssign(&this$0_, self, this$0);
}
@synthesize this$0 = this$0_;

- (void)onAddWithInt:(int)index
              withId:(id)elem {
  (void) [((ReactValue *) NIL_CHK(this$0_._sizeView)) updateWithId:[JavaLangInteger valueOfWithInt:[this$0_ size]]];
}

- (void)onRemoveWithInt:(int)index
                 withId:(id)elem {
  (void) [((ReactValue *) NIL_CHK(this$0_._sizeView)) updateWithId:[JavaLangInteger valueOfWithInt:[this$0_ size]]];
}

- (id)initWithReactRList:(ReactRList *)outer$ {
  if ((self = [super init])) {
    JreOperatorRetainedAssign(&this$0_, self, outer$);
  }
  return self;
}

- (void)dealloc {
  JreOperatorRetainedAssign(&this$0_, self, nil);
  [super dealloc];
}

- (void)copyAllPropertiesTo:(id)copy {
  [super copyAllPropertiesTo:copy];
  ReactRList_$1 *typedCopy = (ReactRList_$1 *) copy;
  typedCopy.this$0 = this$0_;
}

@end
@implementation ReactRList_$2

- (ReactRList *)this$0 {
  return this$0_;
}
- (void)setThis$0:(ReactRList *)this$0 {
  JreOperatorRetainedAssign(&this$0_, self, this$0);
}
@synthesize this$0 = this$0_;
- (id)_current {
  return _current_;
}
- (void)set_current:(id)_current {
  JreOperatorRetainedAssign(&_current_, self, _current);
}
@synthesize _current = _current_;
- (id<JavaUtilListIterator>)val$iiter {
  return val$iiter_;
}
- (void)setVal$iiter:(id<JavaUtilListIterator>)val$iiter {
  JreOperatorRetainedAssign(&val$iiter_, self, val$iiter);
}
@synthesize val$iiter = val$iiter_;

- (void)addWithId:(id)elem {
  [this$0_ checkMutate];
  int index = [((id<JavaUtilListIterator>) NIL_CHK(val$iiter_)) nextIndex];
  [((id<JavaUtilListIterator>) NIL_CHK(val$iiter_)) addWithId:elem];
  [this$0_ emitAddWithInt:index withId:elem];
}

- (BOOL)hasNext {
  return [((id<JavaUtilListIterator>) NIL_CHK(val$iiter_)) hasNext];
}

- (BOOL)hasPrevious {
  return [((id<JavaUtilListIterator>) NIL_CHK(val$iiter_)) hasPrevious];
}

- (id)next {
  return (JreOperatorRetainedAssign(&_current_, self, [((id<JavaUtilListIterator>) NIL_CHK(val$iiter_)) next]));
}

- (int)nextIndex {
  return [((id<JavaUtilListIterator>) NIL_CHK(val$iiter_)) nextIndex];
}

- (id)previous {
  return (JreOperatorRetainedAssign(&_current_, self, [((id<JavaUtilListIterator>) NIL_CHK(val$iiter_)) previous]));
}

- (int)previousIndex {
  return [((id<JavaUtilListIterator>) NIL_CHK(val$iiter_)) previousIndex];
}

- (void)remove {
  [this$0_ checkMutate];
  int index = [((id<JavaUtilListIterator>) NIL_CHK(val$iiter_)) previousIndex];
  [((id<JavaUtilListIterator>) NIL_CHK(val$iiter_)) remove];
  [this$0_ emitRemoveWithInt:index withId:_current_];
}

- (void)setWithId:(id)elem {
  [this$0_ checkMutate];
  [((id<JavaUtilListIterator>) NIL_CHK(val$iiter_)) setWithId:elem];
  [this$0_ emitSetWithInt:[((id<JavaUtilListIterator>) NIL_CHK(val$iiter_)) previousIndex] withId:elem withId:_current_];
  JreOperatorRetainedAssign(&_current_, self, elem);
}

- (id)initWithReactRList:(ReactRList *)outer$
withJavaUtilListIterator:(id<JavaUtilListIterator>)capture$0 {
  if ((self = [super init])) {
    JreOperatorRetainedAssign(&this$0_, self, outer$);
    JreOperatorRetainedAssign(&val$iiter_, self, capture$0);
  }
  return self;
}

- (void)dealloc {
  JreOperatorRetainedAssign(&val$iiter_, self, nil);
  JreOperatorRetainedAssign(&_current_, self, nil);
  JreOperatorRetainedAssign(&this$0_, self, nil);
  [super dealloc];
}

- (void)copyAllPropertiesTo:(id)copy {
  [super copyAllPropertiesTo:copy];
  ReactRList_$2 *typedCopy = (ReactRList_$2 *) copy;
  typedCopy.this$0 = this$0_;
  typedCopy._current = _current_;
  typedCopy.val$iiter = val$iiter_;
}

@end
